# Simple Bank Back ν”„λ΅μ νΈ μ„¤κ³„ λ…Όμ μ •λ¦¬

## 1. ν”„λ΅μ νΈ λ©ν‘

### ν•µμ‹¬ λ©μ 
- **λ©”μ‹μ§€ μ§€ν–¥ μ„¤κ³„** ν•™μµ λ° μ‹¤μµ
- **TDD** λ°©λ²•λ΅  μ μ©
- **κ°μ²΄μ§€ν–¥ μ›μΉ™** μ²΄λ“

### κΈ°λ¥ λ²”μ„
- μ‚¬μ©μ λ΅κ·ΈμΈ/λ΅κ·Έμ•„μ›ƒ
- μ‚¬μ©μ μ •λ³΄ μ΅°ν
- κ³„μΆ μ΅°ν
- κ³„μΆ μ΄μ²΄
- κ±°λ λ‚΄μ—­(μκΈ νλ¦„) μ΅°ν

### κΈ°μ  μ¤νƒ
- Java 17
- Spring Boot 3.x
- Gradle
- JUnit 5
- H2 Database

---

## 2. μ•„ν‚¤ν…μ² λ…Όμ κ³Όμ •

### κ³ λ ¤ν–λ κµ¬μ΅°λ“¤

#### 1) μ „ν†µμ  λ μ΄μ–΄λ“ κµ¬μ΅°
```
controller / service / repository / domain
```
- λ¬Έμ : λ„λ©”μΈλ³„ μ‘μ§‘λ„κ°€ λ–¨μ–΄μ§

#### 2) κΈ°λ¥λ³„ κµ¬μ΅°
```
user / account / transaction
```
- μ¥μ : λ„λ©”μΈλ³„ μ‘μ§‘λ„ λ†’μ
- λ¬Έμ : λ‚΄λ¶€ κµ¬μ΅° μ •μ ν•„μ”

#### 3) μΈν„°νμ΄μ¤/κµ¬ν„μ²΄ λ¶„λ¦¬ κµ¬μ΅°
```
domain/
β”β”€β”€ interface/
β”‚   β”β”€β”€ controller/
β”‚   β”β”€β”€ service/
β”‚   β””β”€β”€ repository/
β””β”€β”€ implements/
    β”β”€β”€ controller/
    β”β”€β”€ service/
    β””β”€β”€ repository/
```
- λ¬Έμ : κΉμ€ ν΄λ” κµ¬μ΅°, νμΌ μ°ΎκΈ° μ–΄λ ¤μ›€

#### 4) ν—¥μ‚¬κ³ λ‚  μ•„ν‚¤ν…μ² (μµμΆ… μ„ νƒ)
```
user/
β”β”€β”€ domain/              # ν•µμ‹¬ λΉ„μ¦λ‹μ¤ λ΅μ§
β”β”€β”€ application/         # UseCase κµ¬ν„
β”β”€β”€ port/
β”‚   β”β”€β”€ in/             # λ“¤μ–΄μ¤λ” λ©”μ‹μ§€ (μΈν„°νμ΄μ¤)
β”‚   β””β”€β”€ out/            # λ‚κ°€λ” λ©”μ‹μ§€ (μΈν„°νμ΄μ¤)
β””β”€β”€ adapter/
    β”β”€β”€ in/
    β”‚   β””β”€β”€ web/        # Controller
    β””β”€β”€ out/
        β””β”€β”€ persistence/ # Repository
```

### ν—¥μ‚¬κ³ λ‚ μ„ μ„ νƒν• μ΄μ 
- **λ©”μ‹μ§€ = ν¬νΈ(Port)**: μ™Έλ¶€μ™€μ κ³„μ•½/μΈν„°νμ΄μ¤
- **λ©”μ‹μ§€ μ²λ¦¬ = μ–΄λ‘ν„°(Adapter)**: μ‹¤μ  κµ¬ν„
- **λ„λ©”μΈ**: μμν• λΉ„μ¦λ‹μ¤ λ΅μ§
- μΈν„°νμ΄μ¤(μ™Έλ¶€ κ³„μ•½)μ™€ κµ¬ν„μ²΄μ λ…ν™•ν• λ¶„λ¦¬

---

## 3. ν•µμ‹¬ κ°λ… μ •λ¦¬

### λ©”μ‹μ§€μ™€ κ°μ²΄μ§€ν–¥

**"κ°μ²΄μ§€ν–¥μ μ‚¬μ‹¤κ³Ό μ¤ν•΄" ν•µμ‹¬ μ›μΉ™:**
- κ°μ²΄κ°€ λ¨Όμ €κ°€ μ•„λ‹λΌ **λ©”μ‹μ§€κ°€ λ¨Όμ €**
- λ©”μ‹μ§€λ¥Ό λ°›λ” λ€μƒ(μμ‹ μ)μ„ μΈν„°νμ΄μ¤λ΅ μ¶”μƒν™”
- μ†΅μ‹ μλ” κµ¬μ²΄μ  κµ¬ν„μ„ λ¨λ¥΄κ³ , μ¶”μƒν™”λ μμ‹ μμ—κ² λ©”μ‹μ§€ μ „μ†΅

```
ν΄λΌμ΄μ–ΈνΈ β†’ [μΈν„°νμ΄μ¤] β† κµ¬ν„μ²΄
         (μμ΅΄)        (κµ¬ν„)
```

### TDDμ™€ κ°μ²΄μ§€ν–¥μ κ΄€κ³„

**μ–Έλ» μ¶©λμ²λΌ λ³΄μ΄λ” μ΄μ :**
- κ°μ²΄μ§€ν–¥ μ „ν†µ κ°€λ¥΄μΉ¨: μΈν„°νμ΄μ¤ λ¨Όμ € μ„¤κ³„ β†’ κµ¬ν„
- TDD: ν…μ¤νΈ λ¨Όμ € β†’ κµ¬ν„ β†’ (ν•„μ”μ‹) μΈν„°νμ΄μ¤ μ¶”μ¶

**μ‹¤μ λ΅λ” μ¶©λμ΄ μ•„λ‹ μ‹κ°„μ¶•μ μ°¨μ΄:**
- TDDλ” "μΆ‹μ€ κ°μ²΄μ§€ν–¥ μ„¤κ³„λ΅ κ°€λ” κ³Όμ •"
- μΈν„°νμ΄μ¤λ¥Ό λ―Έλ¦¬ λ§λ“¤μ§€ λ§κ³ , **ν•„μ”κ°€ λ“λ¬λ‚  λ•** μ¶”μ¶
- "μ„¤κ³„λ” λ°ν„λλ” κ²ƒ(Emergent Design)" - Kent Beck

### Outside-In TDD λ°©μ‹
```
1. κ°€μ¥ λ°”κΉ¥μ½(μ‚¬μ©μ μ‹λ‚λ¦¬μ¤)λ¶€ν„° ν…μ¤νΈ μ‘μ„±
2. ν…μ¤νΈ μ‘μ„± μ¤‘ "μ΄ κ°μ²΄κ°€ μ € κ°μ²΄μ—κ² λ­ μ”μ²­ν•΄μ•Ό ν•λ„¤?" β†’ λ©”μ‹μ§€ λ°κ²¬
3. ν•„μ”ν• ν‘λ ¥μλ¥Ό MockμΌλ΅ λ§λ“¤λ©΄μ„ μΈν„°νμ΄μ¤ λ°κ²¬
4. κµ¬ν„ μ™„λ£ ν›„ ν•„μ”μ‹ μΈν„°νμ΄μ¤ μ¶”μ¶
```

---

## 4. κ°λ° ν”„λ΅μ„Έμ¤

### μ „μ²΄ νλ¦„

```
1. λ©”μ‹μ§€ μ •μ (μ‹λ‚λ¦¬μ¤ κΈ°λ°)
   β†“
2. TDDλ΅ ν…μ¤νΈ μ‘μ„± (λ©”μ‹μ§€ κµ¬μ²΄ν™”)
   β†“
3. κµ¬ν„ν•λ©΄μ„ ν‘λ ¥μ λ°κ²¬
   β†“
4. ν‘λ ¥μλ¥Ό μΈν„°νμ΄μ¤λ΅ μ¶”μƒν™”
   β†“
5. μμ΅΄μ„± λ°©ν–¥ μ •λ¦¬ (DIP μ μ©)
```

### κµ¬μ²΄μ  λ‹¨κ³„

#### Step 1: λ©”μ‹μ§€ λ©λ΅ μ‘μ„±
- μ‚¬μ©μ μ‹λ‚λ¦¬μ¤ κΈ°λ°
- "λ¬΄μ—‡μ„ ν•΄μ•Ό ν•λ”κ°€" μ¤‘μ‹¬

#### Step 2: κ° λ©”μ‹μ§€λ³„ μΈν„°νμ΄μ¤ μ„¤κ³„
- Port (in/out) μ •μ
- λ©”μ‹μ§€ κ³„μ•½ λ…ν™•ν™”

#### Step 3: TDDλ΅ κµ¬ν„
- ν…μ¤νΈ μ‘μ„± (Red)
- κµ¬ν„ (Green)
- λ¦¬ν©ν† λ§ λ° μΈν„°νμ΄μ¤ μ¶”μ¶ (Refactor)

#### Step 4: ν‘λ ¥ κµ¬μ΅° κ²€μ¦
- κ°μ²΄ κ°„ λ©”μ‹μ§€ νλ¦„ ν™•μΈ
- μμ΅΄μ„± λ°©ν–¥ κ²€μ¦

---

## 5. λ””λ ‰ν† λ¦¬ κµ¬μ΅° vs κ°λ° μμ„

### λ””λ ‰ν† λ¦¬ κµ¬μ΅° (λ©ν‘ μ•„ν‚¤ν…μ²)
```
simple-bank-back/
β”β”€β”€ src/main/java/com/simplebank/
β”‚   β”β”€β”€ user/
β”‚   β”‚   β”β”€β”€ domain/
β”‚   β”‚   β”β”€β”€ application/
β”‚   β”‚   β”β”€β”€ port/
β”‚   β”‚   β”‚   β”β”€β”€ in/
β”‚   β”‚   β”‚   β””β”€β”€ out/
β”‚   β”‚   β””β”€β”€ adapter/
β”‚   β”‚       β”β”€β”€ in/web/
β”‚   β”‚       β””β”€β”€ out/persistence/
β”‚   β”β”€β”€ account/
β”‚   β””β”€β”€ transaction/
β””β”€β”€ src/test/java/
```

### μ‹¤μ  κµ¬ν„ μμ„
1. `domain/` - λ„λ©”μΈ λ¨λΈ (Entity)
2. `application/` - UseCase κµ¬ν„μ²΄ (TDD)
3. `adapter/` - Controller, Repository κµ¬ν„μ²΄
4. `port/` - ν•„μ”μ‹ μΈν„°νμ΄μ¤ μ¶”μ¶

**ν΄λ” κµ¬μ΅°λ” μ™„μ„±ν•μ„ λ―Έλ¦¬ λ§λ“¤λ, κµ¬ν„μ€ TDDλ΅ μ μ§„μ μΌλ΅!**

---

## 6. λ‹¤μ λ‹¨κ³„

1. β… ν”„λ΅μ νΈ κΈ°λ³Έ μ„¤μ • μ™„λ£
2. β… μ•„ν‚¤ν…μ² κ²°μ • (ν—¥μ‚¬κ³ λ‚ )
3. π“ λ©”μ‹μ§€ λ©λ΅ μ‘μ„± (λ‹¤μ μ‘μ—…)
4. κ° λ©”μ‹μ§€λ³„ TDD κµ¬ν„
5. ν‘λ ¥ κµ¬μ΅° κ²€μ¦ λ° λ¦¬ν©ν† λ§

---

## 7. ν•µμ‹¬ μΈμ‚¬μ΄νΈ

### Kent Beck & Martin Fowlerμ μ›μΉ™
- **Kent Beck**: "κ°μ²΄μ—κ² λ¬΄μ—‡μ„ ν•λΌκ³  λ§ν•μ§€ λ§κ³ , λ¬΄μ—‡μ΄ ν•„μ”ν•μ§€ λ¬Όμ–΄λ΄λΌ"
- **Martin Fowler**: "μΈν„°νμ΄μ¤λ” ν΄λΌμ΄μ–ΈνΈμ ν•„μ”μ— μν•΄ λ°κ²¬λμ–΄μ•Ό ν•λ‹¤"
- **κ³µν†µμ **: μμ΅΄μ„± μ—­μ „ μ›μΉ™ (DIP) - κµ¬μ²΄μ μΈ κ²ƒμ—μ„ μ¶”μƒμ μΈ κ²ƒμΌλ΅

### λ©”μ‹μ§€ μ¤‘μ‹¬ μ„¤κ³„μ λ³Έμ§
- λ©”μ‹μ§€ β‰  μΈν„°νμ΄μ¤
- λ©”μ‹μ§€λ¥Ό **λ°›λ” λ€μƒ**μ„ μΈν„°νμ΄μ¤λ΅ μ¶”μƒν™”
- μ†΅μ‹ μλ” κµ¬ν„μ„ λ¨λ¥΄κ³  μ¶”μƒν™”λ μμ‹ μμ—κ² λ©”μ‹μ§€ μ „μ†΅

### TDDμ™€ κ°μ²΄μ§€ν–¥μ μ΅°ν™”
- TDDλ” κ°μ²΄μ§€ν–¥κ³Ό μ¶©λν•μ§€ μ•μ
- **λ©ν‘(μ•„ν‚¤ν…μ²)μ™€ κ³Όμ •(TDD)μ μ°¨μ΄**
- TDDλ¥Ό ν†µν•΄ μμ—°μ¤λ½κ² μΆ‹μ€ κ°μ²΄μ§€ν–¥ μ„¤κ³„λ΅ μλ ΄